%h2
  Transaction:
  %span= tx_id

%p
  %span Confirmed at:
  = Time.at(tx.f "blocktime").strftime(TIME_FMT)
.s3
%p
  %span Size:
  = tx.f "size"
  bytes
.s3
%p
  %span Block:
  %a{ href: "/blocks/#{tx.f "blockhash"}" }
    = strip_zeros tx.f "blockhash"
.s10

%h3 Inputs
.s5

- (tx.f("vin") || []).each do |input|
  - if input["txid"]
    %p
      TX ID:
      %a{ href: "/txs/#{input.f("txid")}" } #{input.f("txid")}
  - else
    This is a mining reward transaction generated by the miner
.s20


%h3 Outputs
.s5

- (tx.f("vout") || []).each do |output|
  - script = output.f "scriptPubKey"
  - value = output.f("value")
  - if value > 0
    - addresses = script.f "addresses"
    %p
      %span.b
        #{'%.8f' % value} #{BTC_SYM}
      - if addresses && address = addresses.first
        to
        - identicon(address, klass: "", size: nil)
        %span.b
          #{address}
