
%h2
  Transaction:
  %span= @tx_id

- tx = keychain.get_transaction @tx_id
- tx = Hashie::Mash.new tx

%p
  %span Size:
  = tx["size"]
  bytes
.s10

%h3 Inputs
.s5

- tx.vin.each do |input|
  - if input.txid
    %p
      TX ID:
      %a{ href: "/txs/#{input.txid}" } #{input.txid}
    -# %p
    -#   output: #{input.vout}
    -# %p
    -#   sig: #{input.scriptSig.hex}
  - else
    This is a mining reward transaction generated by the miner
.s20


%h3 Outputs
.s5

- tx.vout.each do |output|
  - script = output.scriptPubKey

  %p
    %span.b
      #{'%.8f' % output.value} BCH (SV)
    - if script.addresses && address = script.addresses.first
      to #{address}


  -# - if script.addresses
  -#   %p.b
  -#     Addresses:
  -#   %ul
  -#     - script.addresses.map do |address|
  -#       %li #{address}
  -# .s10

  -# - content_for :js do
  -#   - capture_haml do
  -#     :coffee

  -# %p.b
  -#   Script:
  -# %p
  -#   sig: #{script.asm},
  -#   type: #{script.type},
  -#   reqSigs: #{script.reqSigs}
  -# .s10
