%h2
  Transaction:
  %span= tx_id

%p
  %span Size:
  = tx.f "size"
  bytes
.s10

%h3 Inputs
.s5

- (tx.f("vin") || []).each do |input|
  - if input["txid"]
    %p
      TX ID:
      %a{ href: "/txs/#{input.f("txid")}" } #{input.f("txid")}
    -# %p
    -#   output: #{input.vout}
    -# %p
    -#   sig: #{input.scriptSig.hex}
  - else
    This is a mining reward transaction generated by the miner
.s20


%h3 Outputs
.s5

- (tx.f("vout") || []).each do |output|
  - script = output.f "scriptPubKey"
  - value = output.f("value")
  - if value > 0
    - addresses = script.f "addresses"
    %p
      %span.b
        #{'%.8f' % value} #{BTC_SYM}
      - if addresses && address = addresses.first
        to
        - identicon(address, klass: "", size: nil)
        %span.b
          #{address}
        -# inline SVG qr codes are too slow like this
        -#
        -# %span.qrcode
        -#   - qrcode(address, klass: "", size: nil)

  -# # support multiple addresses
  -#
  -# - if script.addresses
  -#   %p.b
  -#     Addresses:
  -#   %ul
  -#     - script.addresses.map do |address|
  -#       %li #{address}
  -# .s10

  -# %p.b
  -#   Script:
  -# %p
  -#   sig: #{script.asm},
  -#   type: #{script.type},
  -#   reqSigs: #{script.reqSigs}
  -# .s10
