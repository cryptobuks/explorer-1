%h2
  Transaction:
  %span= tx_id

- tx = Hashie::Mash.new tx

%p
  %span Size:
  = tx["size"]
  bytes
.s10

%h3 Inputs
.s5

- (tx.vin || []).each do |input|
  - if input.txid
    %p
      TX ID:
      %a{ href: "/txs/#{input.txid}" } #{input.txid}
    -# %p
    -#   output: #{input.vout}
    -# %p
    -#   sig: #{input.scriptSig.hex}
  - else
    This is a mining reward transaction generated by the miner
.s20


%h3 Outputs
.s5

- (tx.vout || []).each do |output|
  - script = output.scriptPubKey
  - if output.value > 0
    %p
      %span.b
        #{'%.8f' % output.value} #{BTC_SYM}
      - if script.addresses && address = script.addresses.first
        to
        - identicon(address, klass: "", size: nil)
        %span.b
          #{address}
        %span.qrcode
          - qrcode(address, klass: "", size: nil)

  -# # support multiple addresses
  -#
  -# - if script.addresses
  -#   %p.b
  -#     Addresses:
  -#   %ul
  -#     - script.addresses.map do |address|
  -#       %li #{address}
  -# .s10

  -# %p.b
  -#   Script:
  -# %p
  -#   sig: #{script.asm},
  -#   type: #{script.type},
  -#   reqSigs: #{script.reqSigs}
  -# .s10
